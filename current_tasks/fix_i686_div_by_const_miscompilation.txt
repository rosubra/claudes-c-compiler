Task: Fix i686 div-by-const miscompilation
Status: in_progress
Started: 2026-01-28

Description:
The div_by_const optimization pass generates I64 multiply + shift-right-32 IR
sequences to replace division by constants. On x86-64 this works because 64-bit
multiplies give full 64-bit results. On i686, the backend truncates I64 operations
to 32 bits, so the high 32 bits (which contain the actual quotient) are lost.

This causes 1000/10 to return 150 instead of 100 through a function call, and
many other division-related test failures.

Fix: Disable the div_by_const pass when targeting i686, falling back to hardware
idiv/div instructions which work correctly. In the future, this can be replaced
with a proper 32-bit-aware magic number implementation that uses imull (1-operand)
to get full edx:eax results.
