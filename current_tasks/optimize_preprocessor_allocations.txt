Optimize Preprocessor Allocation Performance
=============================================
Status: in_progress

The preprocessor accounts for 46-60% of compilation time. Profiling
shows heavy allocation overhead from:

1. conditionals.rs: Vec<char> allocation for every #if/#elif expression,
   plus String collections for identifier/number parsing. Convert to
   byte-slice scanning matching the pattern already used in macro_defs.rs.

2. macro_defs.rs: parse_macro_args uses trim().to_string() for every
   argument, allocating even when trimming is a no-op. Use byte-span
   tracking to avoid unnecessary allocations.

3. macro_defs.rs: expanding.insert(mac.name.clone()) allocates a new
   String for every macro expansion. Use &str borrowing or intern macro
   names to avoid per-invocation heap allocation.

4. macro_defs.rs: expand_function_macro clones MacroDef to satisfy
   borrow checker. Restructure to avoid the clone.

Expected impact: Reduce preprocessor allocation overhead, particularly
for header-heavy translation units like kernel sources.
