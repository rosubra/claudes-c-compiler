Task: Fix typedef names polluting symbol_attrs under #pragma GCC visibility
Status: in_progress
Started: 2026-01-27

Problem: When #pragma GCC visibility push(hidden) is active (e.g., Linux kernel
EFI stub includes hidden.h), the compiler collected visibility attributes for ALL
declarations including typedefs. This caused thousands of typedef names (like u32,
__s8, size_t) to enter symbol_attrs, generating spurious .hidden directives.

While the DCE pass now filters unreferenced symbols from symbol_attrs (fixed in
commit 6e1a946), typedefs should never enter symbol_attrs in the first place since
they are not linker symbols and can never have .weak or .hidden directives.

Fix: Add !decl.is_typedef check before collecting symbol_attrs in IR lowering,
preventing typedef names from entering the symbol_attrs pipeline at the source.
