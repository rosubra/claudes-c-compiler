Implement proper switch/case/default lowering in the IR lowerer.

Currently the switch statement lowering just falls through all cases sequentially
without comparing the switch value against case constants. This means all switch
statements effectively execute case 1 (or the first case).

Tasks:
- Collect case constants and their target labels during body lowering
- Emit comparison chain (if-else ladder) before the switch body
- Branch to default label if no case matches
- Properly handle break statements (already partially working)
- Handle case fallthrough semantics correctly
