Fix x86/i686 assembler symbol displacement relocation offset

Bug: In encode_modrm_mem(), relocations for symbol displacements (TPOFF32,
R_X86_64_32S, etc.) were added BEFORE ModR/M and SIB bytes were emitted.
Since add_relocation() records offset as self.bytes.len(), the relocation
pointed 1-2 bytes too early (at the ModR/M byte instead of the displacement).

Fix: Defer relocation recording until after ModR/M + SIB bytes are pushed,
right before the displacement bytes are written.

This fixes redis SIGILL crash with MY_ASM=builtin on x86.
