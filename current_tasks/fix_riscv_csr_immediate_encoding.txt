Bug: RISC-V CSR instructions with immediate operands (e.g. `csrrc t0, sstatus, 2`) 
are incorrectly encoded using the register form (treating `2` as register x2/sp)
instead of the immediate form (csrrci/csrrsi/csrrwi).

This causes the kernel's local_irq_save() to corrupt sstatus by clearing bits based 
on the stack pointer value, permanently disabling supervisor interrupts.

Fix: encode_csr() and encode_csrs/csrc/csrw() now detect Operand::Imm and use the 
immediate CSR encoding (funct3 | 0b100) instead of the register form.

Files: src/backend/riscv/assembler/encoder.rs
