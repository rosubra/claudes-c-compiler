Task: Improve Semantic Analysis Diagnostic Quality with Spans
Status: in_progress

Problem:
All 3 sema diagnostic emission sites use _no_span variants, discarding span
information that is readily available from the AST nodes being checked. This
means sema errors/warnings print without file:line:col context, making them
much less useful than parser errors which do include location info.

Additionally, sema still has a legacy `errors: Vec<String>` alongside the
DiagnosticEngine, with a TODO to remove it.

Plan:
1. Add spans to all 3 sema error/warning sites (switch-non-integer,
   undeclared identifier, implicit function declaration)
2. Remove legacy errors: Vec<String> from SemanticAnalyzer
3. Add "note:" follow-up messages where useful (e.g., for undeclared
   identifiers or implicit function declarations)
4. Verify no regressions
